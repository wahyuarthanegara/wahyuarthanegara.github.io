Dribbble.FollowBar={currentRecs:[],followBarTracked:[],maxSlots:8,initialize:function(){this.trackRecommendationsViewed()},addContext:function(e){var t=e.querySelector(".follow"),o=t.getAttribute("href");t.setAttribute("href",o+"?follow_bar=true")},findCurrentRecommendations:function(e){var t=e.nextElementSibling,o=t.classList.contains("suggested-follow");return this.currentRecs.length<=8&&o&&(this.currentRecs.push(t.firstElementChild),this.findCurrentRecommendations(t)),this.currentRecs},resetCurrentRecommendations:function(){this.currentRecs=[]},setSlotType:function(e,t,o){if(slotRanges=["250","250-500","500-1000","1000-2000"],o<=4)e.setAttribute("data-slot-type",slotRanges[t]);else{var r=o-slotRanges.length,l=slotRanges;slotRanges.slice(0,r).forEach(function(e){var t=l.lastIndexOf(e);l.splice(t,0,e)}),e.setAttribute("data-slot-type",l[t])}},trackRecommendationsViewed:function(){$(window).on("scroll",function(){var e=$(".follow-feed-separator").last();if(0<e.length&&(e.first().offset().top+e.first().outerHeight()-$(window).height()<$(this).scrollTop()&&Dribbble.FollowBar.followBarTracked.length<$(".follow-feed-separator").length)){var t=[],o=document.querySelectorAll(".follow-feed-separator"),r=o[o.length-1],l=Dribbble.FollowBar.findCurrentRecommendations(r);l.forEach(function(e){0===e.offsetWidth&&t.push(e)});var n=l.length-t.length;l.forEach(function(e){0!=e.offsetWidth&&(Dribbble.FollowBar.setSlotType(e,e.getAttribute("data-slot-index"),n),Dribbble.FollowBar.addContext(e))}),Dribbble.FollowBar.followBarTracked.push("1"),Dribbble.FollowBar.resetCurrentRecommendations()}})}},Dribbble.FollowBar.initialize();