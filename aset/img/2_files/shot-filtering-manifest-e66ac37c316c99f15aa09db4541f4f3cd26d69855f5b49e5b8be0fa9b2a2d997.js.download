!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function e(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}function ct(t){t.parentElement.removeChild(t)}function ut(t){t.preventDefault()}function dt(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function a(t,e){return Math.round(t/e)*e}function ht(t,e){var i=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,o=wt(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),e?i.top+o.y-r.clientTop:i.left+o.x-r.clientLeft}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function ft(t,e,i){0<i&&(gt(t,e),setTimeout(function(){bt(t,e)},i))}function pt(t){return Math.max(Math.min(t,100),0)}function mt(t){return Array.isArray(t)?t:[t]}function i(t){var e=(t=String(t)).split(".");return 1<e.length?e[1].length:0}function gt(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function bt(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function vt(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function wt(t){var e=window.pageXOffset!==undefined,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function yt(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function St(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(i){}return t}function Lt(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function l(t,e){return 100/(e-t)}function s(t,e){return 100*e/(t[1]-t[0])}function c(t,e){return s(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function o(t,e){return e*(t[1]-t[0])/100+t[0]}function u(t,e){for(var i=1;t>=e[i];)i+=1;return i}function n(t,e,i){if(i>=t.slice(-1)[0])return 100;var n,r,o,s,a=u(i,t);return n=t[a-1],r=t[a],o=e[a-1],s=e[a],o+c([n,r],i)/l(o,s)}function d(t,e,i){if(100<=i)return t.slice(-1)[0];var n,r=u(i,e);return o([t[r-1],t[r]],(i-(n=e[r-1]))*l(n,e[r]))}function h(t,e,i,n){if(100===n)return n;var r,o,s=u(n,t);return i?(r=t[s-1],((o=t[s])-r)/2<n-r?o:r):e[s-1]?t[s-1]+a(n-t[s-1],e[s-1]):n}function f(t,e,i){var n;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider ("+Ct+"): 'range' contains invalid value.");if(!r(n="min"===t?0:"max"===t?100:parseFloat(t))||!r(e[0]))throw new Error("noUiSlider ("+Ct+"): 'range' value isn't numeric.");i.xPct.push(n),i.xVal.push(e[0]),n?i.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(i.xSteps[0]=e[1]),i.xHighestCompleteStep.push(0)}function p(t,e,i){if(!e)return!0;i.xSteps[t]=s([i.xVal[t],i.xVal[t+1]],e)/l(i.xPct[t],i.xPct[t+1]);var n=(i.xVal[t+1]-i.xVal[t])/i.xNumSteps[t],r=Math.ceil(Number(n.toFixed(3))-1),o=i.xVal[t]+i.xNumSteps[t]*r;i.xHighestCompleteStep[t]=o}function m(t,e,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var n,r=[];for(n in t)t.hasOwnProperty(n)&&r.push([t[n],n]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(t,e){return t[0][0]-e[0][0]}):r.sort(function(t,e){return t[0]-e[0]}),n=0;n<r.length;n++)f(r[n][1],r[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)p(n,this.xNumSteps[n],this)}function g(t){if(e(t))return!0;throw new Error("noUiSlider ("+Ct+"): 'format' requires 'to' and 'from' methods.")}function b(t,e){if(!r(e))throw new Error("noUiSlider ("+Ct+"): 'step' is not numeric.");t.singleStep=e}function v(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider ("+Ct+"): 'range' is not an object.");if(e.min===undefined||e.max===undefined)throw new Error("noUiSlider ("+Ct+"): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider ("+Ct+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new m(e,t.snap,t.singleStep)}function w(t,e){if(e=mt(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider ("+Ct+"): 'start' option is incorrect.");t.handles=e.length,t.start=e}function y(t,e){if("boolean"!=typeof(t.snap=e))throw new Error("noUiSlider ("+Ct+"): 'snap' option must be a boolean.")}function S(t,e){if("boolean"!=typeof(t.animate=e))throw new Error("noUiSlider ("+Ct+"): 'animate' option must be a boolean.")}function L(t,e){if("number"!=typeof(t.animationDuration=e))throw new Error("noUiSlider ("+Ct+"): 'animationDuration' option must be a number.")}function x(t,e){var i,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider ("+Ct+"): 'connect' option doesn't match handle count.");n=e}t.connect=n}function C(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+Ct+"): 'orientation' option is invalid.")}}function E(t,e){if(!r(e))throw new Error("noUiSlider ("+Ct+"): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider ("+Ct+"): 'margin' option is only supported on linear sliders.")}function k(t,e){if(!r(e))throw new Error("noUiSlider ("+Ct+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider ("+Ct+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function _(t,e){if(!r(e))throw new Error("noUiSlider ("+Ct+"): 'padding' option must be numeric.");if(0!==e){if(t.padding=t.spectrum.getMargin(e),!t.padding)throw new Error("noUiSlider ("+Ct+"): 'padding' option is only supported on linear sliders.");if(t.padding<0)throw new Error("noUiSlider ("+Ct+"): 'padding' option must be a positive number.");if(50<=t.padding)throw new Error("noUiSlider ("+Ct+"): 'padding' option must be less than half the range.")}}function A(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+Ct+"): 'direction' option was not recognized.")}}function D(t,e){if("string"!=typeof e)throw new Error("noUiSlider ("+Ct+"): 'behaviour' must be a string containing options.");var i=0<=e.indexOf("tap"),n=0<=e.indexOf("drag"),r=0<=e.indexOf("fixed"),o=0<=e.indexOf("snap"),s=0<=e.indexOf("hover");if(r){if(2!==t.handles)throw new Error("noUiSlider ("+Ct+"): 'fixed' behaviour must be used with 2 handles");E(t,t.start[1]-t.start[0])}t.events={tap:i||o,drag:n,fixed:r,snap:o,hover:s}}function F(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=mt(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+Ct+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+Ct+"): 'tooltips' must be passed a formatter or 'false'.")})}}function q(t,e){g(t.ariaFormat=e)}function N(t,e){g(t.format=e)}function U(t,e){if(e!==undefined&&"string"!=typeof e&&!1!==e)throw new Error("noUiSlider ("+Ct+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function O(t,e){if(e!==undefined&&"object"!=typeof e)throw new Error("noUiSlider ("+Ct+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},e)e.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+e[i]);else t.cssClasses=e}function V(t,e){if(!0!==e&&!1!==e)throw new Error("noUiSlider ("+Ct+"): 'useRequestAnimationFrame' option should be true (default) or false.");t.useRequestAnimationFrame=e}function xt(e){var i={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:H,format:H},n={step:{r:!1,t:b},start:{r:!0,t:w},connect:{r:!0,t:x},direction:{r:!0,t:A},snap:{r:!1,t:y},animate:{r:!1,t:S},animationDuration:{r:!1,t:L},range:{r:!0,t:v},orientation:{r:!1,t:C},margin:{r:!1,t:E},limit:{r:!1,t:k},padding:{r:!1,t:_},behaviour:{r:!0,t:D},ariaFormat:{r:!1,t:q},format:{r:!1,t:N},tooltips:{r:!1,t:F},cssPrefix:{r:!1,t:U},cssClasses:{r:!1,t:O},useRequestAnimationFrame:{r:!1,t:V}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(t){if(e[t]===undefined&&r[t]===undefined){if(n[t].r)throw new Error("noUiSlider ("+Ct+"): '"+t+"' is required.");return!0}n[t].t(i,e[t]===undefined?r[t]:e[t])}),i.pips=e.pips;var t=[["left","top"],["right","bottom"]];return i.style=t[i.dir][i.ort],i.styleOposite=t[i.dir?0:1][i.ort],i}function T(t,d,o){function h(t,e){var i=st.createElement("div");return e&&gt(i,e),t.appendChild(i),i}function n(t,e){var i=h(t,d.cssClasses.origin),n=h(i,d.cssClasses.handle);return n.setAttribute("data-handle",e),n.setAttribute("tabindex","0"),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",d.ort?"vertical":"horizontal"),0===e?gt(n,d.cssClasses.handleLower):e===d.handles-1&&gt(n,d.cssClasses.handleUpper),i}function r(t,e){return!!e&&h(t,d.cssClasses.connect)}function e(t,e){B=[],(G=[]).push(r(e,t[0]));for(var i=0;i<d.handles;i++)B.push(n(e,i)),tt[i]=i,G.push(r(e,t[i+1]))}function i(t){gt(t,d.cssClasses.target),0===d.dir?gt(t,d.cssClasses.ltr):gt(t,d.cssClasses.rtl),0===d.ort?gt(t,d.cssClasses.horizontal):gt(t,d.cssClasses.vertical),R=h(t,d.cssClasses.base)}function s(t,e){return!!d.tooltips[e]&&h(t.firstChild,d.cssClasses.tooltip)}function a(){var r=B.map(s);I("update",function(t,e,i){if(r[e]){var n=t[e];!0!==d.tooltips[e]&&(n=d.tooltips[e].to(i[e])),r[e].innerHTML=n}})}function l(){I("update",function(t,e,s,i,a){tt.forEach(function(t){var e=B[t],i=F(Q,t,0,!0,!0,!0),n=F(Q,t,100,!0,!0,!0),r=a[t],o=d.ariaFormat.to(s[t]);e.children[0].setAttribute("aria-valuemin",i.toFixed(1)),e.children[0].setAttribute("aria-valuemax",n.toFixed(1)),e.children[0].setAttribute("aria-valuenow",r.toFixed(1)),e.children[0].setAttribute("aria-valuetext",o)})})}function c(t,e,i){if("range"===t||"steps"===t)return it.xVal;if("count"===t){if(!e)throw new Error("noUiSlider ("+Ct+"): 'values' required for mode 'count'.");var n,r=100/(e-1),o=0;for(e=[];(n=o++*r)<=100;)e.push(n);t="positions"}return"positions"===t?e.map(function(t){return it.fromStepping(i?it.getStep(t):t)}):"values"===t?i?e.map(function(t){return it.fromStepping(it.getStep(it.toStepping(t)))}):e:void 0}function u(f,p,m){function g(t,e){return(t+e).toFixed(7)/1}var b={},t=it.xVal[0],e=it.xVal[it.xVal.length-1],v=!1,w=!1,y=0;return(m=dt(m.slice().sort(function(t,e){return t-e})))[0]!==t&&(m.unshift(t),v=!0),m[m.length-1]!==e&&(m.push(e),w=!0),m.forEach(function(t,e){var i,n,r,o,s,a,l,c,u,d=t,h=m[e+1];if("steps"===p&&(i=it.xNumSteps[e]),i||(i=h-d),!1!==d&&h!==undefined)for(i=Math.max(i,1e-7),n=d;n<=h;n=g(n,i)){for(l=(s=(o=it.toStepping(n))-y)/f,u=s/(c=Math.round(l)),r=1;r<=c;r+=1)b[(y+r*u).toFixed(5)]=["x",0];a=-1<m.indexOf(n)?1:"steps"===p?2:0,!e&&v&&(a=0),n===h&&w||(b[o.toFixed(5)]=[n,a]),y=o}}),b}function f(e,n,r){function o(t,e){var i=e===d.cssClasses.value,n=i?a:l;return e+" "+(i?c:u)[d.ort]+" "+n[t]}function i(t,e){e[1]=e[1]&&n?n(e[0],e[1]):e[1];var i=h(s,!1);i.className=o(e[1],d.cssClasses.marker),i.style[d.style]=t+"%",e[1]&&((i=h(s,!1)).className=o(e[1],d.cssClasses.value),i.style[d.style]=t+"%",i.innerText=r.to(e[0]))}var s=st.createElement("div"),a=[d.cssClasses.valueNormal,d.cssClasses.valueLarge,d.cssClasses.valueSub],l=[d.cssClasses.markerNormal,d.cssClasses.markerLarge,d.cssClasses.markerSub],c=[d.cssClasses.valueHorizontal,d.cssClasses.valueVertical],u=[d.cssClasses.markerHorizontal,d.cssClasses.markerVertical];return gt(s,d.cssClasses.pips),gt(s,0===d.ort?d.cssClasses.pipsHorizontal:d.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){i(t,e[t])}),s}function p(){J&&(ct(J),J=null)}function m(t){p();var e=t.mode,i=t.density||1,n=t.filter||!1,r=u(i,e,c(e,t.values||!1,t.stepped||!1)),o=t.format||{to:Math.round};return J=K.appendChild(f(r,n,o))}function g(){var t=R.getBoundingClientRect(),e="offset"+["Width","Height"][d.ort];return 0===d.ort?t.width||R[e]:t.height||R[e]}function b(e,i,n,r){var o=function(t){return!K.hasAttribute("disabled")&&(!vt(K,d.cssClasses.tap)&&(!!(t=v(t,r.pageOffset))&&(!(e===Y.start&&t.buttons!==undefined&&1<t.buttons)&&((!r.hover||!t.buttons)&&(Z||t.preventDefault(),t.calcPoint=t.points[d.ort],void n(t,r))))))},s=[];return e.split(" ").forEach(function(t){i.addEventListener(t,o,!!Z&&{passive:!0}),s.push([t,o])}),s}function v(t,e){var i,n,r=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),r){if(1<t.touches.length)return!1;i=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY}return e=e||wt(st),(o||s)&&(i=t.clientX+e.x,n=t.clientY+e.y),t.pageOffset=e,t.points=[i,n],t.cursor=o||s,t}function w(t){var e=100*(t-ht(R,d.ort))/g();return d.dir?100-e:e}function y(n){var r=100,o=!1;return B.forEach(function(t,e){if(!t.hasAttribute("disabled")){var i=Math.abs(Q[e]-n);i<r&&(o=e,r=i)}}),o}function S(t,n,i,e){var r=i.slice(),o=[!t,t],s=[t,!t];e=e.slice(),t&&e.reverse(),1<e.length?e.forEach(function(t,e){var i=F(r,t,r[t]+n,o[e],s[e],!1);!1===i?n=0:(n=i-r[t],r[t]=i)}):o=s=[!0];var a=!1;e.forEach(function(t,e){a=O(t,i[t]+n,o[e],s[e])||a}),a&&e.forEach(function(t){L("update",t),L("slide",t)})}function L(i,n,r){Object.keys(rt).forEach(function(t){var e=t.split(".")[0];i===e&&rt[t].forEach(function(t){t.call(X,nt.map(d.format.to),n,nt.slice(),r||!1,Q.slice())})})}function x(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&E(t,e)}function C(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return E(t,e);var i=(d.dir?-1:1)*(t.calcPoint-e.startCalcPoint);S(0<i,100*i/e.baseSize,e.locations,e.handleNumbers)}function E(t,e){et&&(bt(et,d.cssClasses.active),et=!1),t.cursor&&(lt.style.cursor="",lt.removeEventListener("selectstart",ut)),ot.forEach(function(t){at.removeEventListener(t[0],t[1])}),bt(K,d.cssClasses.drag),U(),e.handleNumbers.forEach(function(t){L("change",t),L("set",t),L("end",t)})}function k(t,e){if(1===e.handleNumbers.length){var i=B[e.handleNumbers[0]];if(i.hasAttribute("disabled"))return!1;gt(et=i.children[0],d.cssClasses.active)}t.stopPropagation();var n=b(Y.move,at,C,{startCalcPoint:t.calcPoint,baseSize:g(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:Q.slice()}),r=b(Y.end,at,E,{handleNumbers:e.handleNumbers}),o=b("mouseout",at,x,{handleNumbers:e.handleNumbers});ot=n.concat(r,o),t.cursor&&(lt.style.cursor=getComputedStyle(t.target).cursor,1<B.length&&gt(K,d.cssClasses.drag),lt.addEventListener("selectstart",ut,!1)),e.handleNumbers.forEach(function(t){L("start",t)})}function _(t){t.stopPropagation();var e=w(t.calcPoint),i=y(e);if(!1===i)return!1;d.events.snap||ft(K,d.cssClasses.tap,d.animationDuration),O(i,e,!0,!0),U(),L("slide",i,!0),L("update",i,!0),L("change",i,!0),L("set",i,!0),d.events.snap&&k(t,{handleNumbers:[i]})}function A(t){var e=w(t.calcPoint),i=it.getStep(e),n=it.fromStepping(i);Object.keys(rt).forEach(function(t){"hover"===t.split(".")[0]&&rt[t].forEach(function(t){t.call(X,n)})})}function D(o){o.fixed||B.forEach(function(t,e){b(Y.start,t.children[0],k,{handleNumbers:[e]})}),o.tap&&b(Y.start,R,_,{}),o.hover&&b(Y.move,R,A,{hover:!0}),o.drag&&G.forEach(function(t,e){if(!1!==t&&0!==e&&e!==G.length-1){var i=B[e-1],n=B[e],r=[t];gt(t,d.cssClasses.draggable),o.fixed&&(r.push(i.children[0]),r.push(n.children[0])),r.forEach(function(t){b(Y.start,t,k,{handles:[i,n],handleNumbers:[e-1,e]})})}})}function F(t,e,i,n,r,o){return 1<B.length&&(n&&0<e&&(i=Math.max(i,t[e-1]+d.margin)),r&&e<B.length-1&&(i=Math.min(i,t[e+1]-d.margin))),1<B.length&&d.limit&&(n&&0<e&&(i=Math.min(i,t[e-1]+d.limit)),r&&e<B.length-1&&(i=Math.max(i,t[e+1]-d.limit))),d.padding&&(0===e&&(i=Math.max(i,d.padding)),e===B.length-1&&(i=Math.min(i,100-d.padding))),!((i=pt(i=it.getStep(i)))===t[e]&&!o)&&i}function q(t){return t+"%"}function N(t,e){Q[t]=e,nt[t]=it.fromStepping(e);var i=function(){B[t].style[d.style]=q(e),V(t),V(t+1)};window.requestAnimationFrame&&d.useRequestAnimationFrame?window.requestAnimationFrame(i):i()}function U(){tt.forEach(function(t){var e=50<Q[t]?-1:1,i=3+(B.length+e*t);B[t].childNodes[0].style.zIndex=i})}function O(t,e,i,n){return!1!==(e=F(Q,t,e,i,n,!1))&&(N(t,e),!0)}function V(t){if(G[t]){var e=0,i=100;0!==t&&(e=Q[t-1]),t!==G.length-1&&(i=Q[t]),G[t].style[d.style]=q(e),G[t].style[d.styleOposite]=q(100-i)}}function T(t,e){null!==t&&!1!==t&&("number"==typeof t&&(t=String(t)),!1===(t=d.format.from(t))||isNaN(t)||O(e,it.toStepping(t),!1,!1))}function H(t,e){var i=mt(t),n=Q[0]===undefined;e=e===undefined||!!e,i.forEach(T),d.animate&&!n&&ft(K,d.cssClasses.tap,d.animationDuration),tt.forEach(function(t){O(t,Q[t],!0,!1)}),U(),tt.forEach(function(t){L("update",t),null!==i[t]&&e&&L("set",t)})}function M(t){H(d.start,t)}function P(){var t=nt.map(d.format.to);return 1===t.length?t[0]:t}function z(){for(var t in d.cssClasses)d.cssClasses.hasOwnProperty(t)&&bt(K,d.cssClasses[t]);for(;K.firstChild;)K.removeChild(K.firstChild);delete K.noUiSlider}function j(){return Q.map(function(t,e){var i=it.getNearbySteps(t),n=nt[e],r=i.thisStep.step,o=null;!1!==r&&n+r>i.stepAfter.startValue&&(r=i.stepAfter.startValue-n),o=n>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&n-i.stepBefore.highestStep,100===t?r=null:0===t&&(o=null);var s=it.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(s))),null!==o&&!1!==o&&(o=Number(o.toFixed(s))),[o,r]})}function I(t,e){rt[t]=rt[t]||[],rt[t].push(e),"update"===t.split(".")[0]&&B.forEach(function(t,e){L("update",e)})}function W(t){var n=t&&t.split(".")[0],r=n&&t.substring(n.length);Object.keys(rt).forEach(function(t){var e=t.split(".")[0],i=t.substring(e.length);n&&n!==e||r&&r!==i||delete rt[t]})}function $(e,t){var i=P(),n=["margin","limit","padding","range","animate","snap","step","format"];n.forEach(function(t){e[t]!==undefined&&(o[t]=e[t])});var r=xt(o);n.forEach(function(t){e[t]!==undefined&&(d[t]=r[t])}),it=r.spectrum,d.margin=r.margin,d.limit=r.limit,d.padding=r.padding,d.pips&&m(d.pips),Q=[],H(e.start||i,t)}var R,B,G,X,J,Y=yt(),Z=Lt()&&St(),K=t,Q=[],tt=[],et=!1,it=d.spectrum,nt=[],rt={},ot=null,st=t.ownerDocument,at=st.documentElement,lt=st.body;if(K.noUiSlider)throw new Error("noUiSlider ("+Ct+"): Slider was already initialized.");return i(K),e(d.connect,R),X={destroy:z,steps:j,on:I,off:W,get:P,set:H,reset:M,__moveHandles:function(t,e,i){S(t,e,Q,i)},options:o,updateOptions:$,target:K,removePips:p,pips:m},D(d.events),H(d.start),d.pips&&m(d.pips),d.tooltips&&a(),l(),X}function t(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider ("+Ct+"): create requires a single element, got: "+t);var i=T(t,xt(e,t),e);return t.noUiSlider=i}var Ct="10.0.0";m.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider ("+Ct+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&s(this.xVal,t)},m.prototype.toStepping=function(t){return t=n(this.xVal,this.xPct,t)},m.prototype.fromStepping=function(t){return d(this.xVal,this.xPct,t)},m.prototype.getStep=function(t){return t=h(this.xPct,this.xSteps,this.snap,t)},m.prototype.getNearbySteps=function(t){var e=u(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e-0],step:this.xNumSteps[e-0],highestStep:this.xHighestCompleteStep[e-0]}}},m.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(i);return Math.max.apply(null,t)},m.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var H={to:function(t){return t!==undefined&&t.toFixed(2)},from:Number};return{version:Ct,create:t}}),Dribbble.Slider=function(t){this.el=t.el,this.step=t.step||1,this.minField=t.minField,this.maxField=t.maxField,this.maxValue=t.maxValue,this.minValue=t.minValue,this.rangeLabel=t.rangeLabel,this.initialize()},Dribbble.Slider.prototype={low:null,high:null,initialize:function(){this.low=Math.floor(this.minField.value)||0,this.high=Math.floor(this.maxField.value)||this.maxValue+1,noUiSlider.create(this.el,{start:[this.low,this.high],range:{min:0,max:this.maxValue+1},step:this.step,connect:!0}),this.el.noUiSlider.on("update",this.update.bind(this)),this.el.noUiSlider.on("set",this.set.bind(this)),this.updateCompLabel()},update:function(t){this.low=Math.min(t[0],this.maxValue),this.high=t[1],this.updateCompLabel()},updateWithRedraw:function(t){this.update([t[0],t[1]||this.maxValue+1]),this.el.noUiSlider.set([this.low,this.high],firesEvent=!1)},updateCompLabel:function(){var t=0<this.low?Dribbble.Globals.formatPrice(this.low):"Any",e=this.high<=this.maxValue?Dribbble.Globals.formatPrice(this.high):"Any";this.rangeLabel.textContent=t+" - "+e},remove:function(){this.el.noUiSlider.destroy()},set:function(t,e){this.minField.value=0<this.low?this.low:null,this.maxField.value=this.high<this.maxValue+1?this.high:null,this.minField.value==t[e]?$(this.minField).trigger("change"):$(this.maxField).trigger("change")}};var Goods={initialize:function(){this.widget=$("form.goods-search"),this.form=$("form.goods-search"),this.bindEventListeners(),this.initPriceSlider()},bindEventListeners:function(){var t=this.widget;this.form;$("a.goods-widget-toggle").on("click",function(){return t.fadeToggle("fast"),!1})},initPriceSlider:function(){this.slider=new Dribbble.Slider({el:this.form.find("#price-slider").get(0),minField:this.form.find("#price_floor").get(0),maxField:this.form.find("#price_ceiling").get(0),step:1,maxValue:100,rangeLabel:this.form.find("#price-range").get(0)})}};Dribbble.ButtonDropdown={buttonDropdowns:document.querySelectorAll(".btn-dropdown"),buttonDropdownLinks:document.querySelectorAll(".btn-dropdown-link"),initialize:function(){this.buttonDropdowns.length&&this.buttonDropdownLinks.length&&(this.bindEventListeners(),this.buttonDropdownLinks.forEach(function(t){var e=t.querySelector("span");t.dataset.dropdownState="closed",e&&e.dataset.fadeDefault&&e.innerText.trim()==e.dataset.prompt&&e.classList.add("default-option")}))},bindEventListeners:function(){0!==this.buttonDropdownLinks.length&&this.buttonDropdownLinks.forEach(this._bindEachDropdown.bind(this))},addLinks:function(t,e){this.buttonDropdownLinks=Array.prototype.slice.call(this.buttonDropdownLinks).concat(e),this.buttonDropdowns=Array.prototype.slice.call(this.buttonDropdowns).concat(t),e.forEach(this._bindEachDropdown.bind(this))},closeAll:function(){this.buttonDropdowns.forEach(function(t){t.classList.contains("open")&&(t.classList.remove("open"),t.querySelector(".btn-dropdown-link").dataset.dropdownState="closed")})},closeAllWhenClickedOutside:function(e){var i=!1;this.buttonDropdownLinks.forEach(function(t){t.contains(e.target)&&(i=!0)}),i||this.closeAll()},resetDropdown:function(t,e){t.querySelectorAll(".active").forEach(function(t){t.classList.remove("active")});var i=t.querySelector(".btn-dropdown-link span");i.dataset.fadeDefault&&i.classList.add("default-option"),i.innerText=e||i.dataset.prompt,t.querySelector(".btn-dropdown-options .default-filter-option").classList.add("active")},updateDropdown:function(t,e){if(e){var i=t.querySelector('[data-value="'+e+'"] a');i&&this._selectOption({target:i})}else this.resetDropdown(t)},click:function(t,e){e||(e={bubbles:!0,cancelable:!1});var i=document.querySelector(t);i&&(event=new MouseEvent("click",e),i.dispatchEvent(event))},_bindEachDropdown:function(t){t.addEventListener("click",this._openDropdown.bind(this)),t.nextElementSibling.querySelectorAll("a").forEach(this._bindEachOption.bind(this))},_bindEachOption:function(t){t.addEventListener("click",this._selectOption.bind(this))},_selectOption:function(t,e){var i=t.target,n=i.closest(".btn-dropdown"),r=n.querySelector("span"),o=n.querySelector(".active");o&&o.classList.remove("active"),r&&(r.innerHTML=e||i.innerHTML,r.dataset.fadeDefault&&r.innerText.trim()==r.dataset.prompt?r.classList.add("default-option"):r.classList.remove("default-option")),i.parentNode.classList.add("active")},_openDropdown:function(t){t.preventDefault(),t.currentTarget.dataset.dropdownState="open"==t.currentTarget.dataset.dropdownState?"closed":"open";var e=t.target.closest(".btn-dropdown-link"),i=e.parentNode.classList.contains("open");this.closeAll(),i||(document.addEventListener("click",this.closeAllWhenClickedOutside.bind(this)),e.parentNode.classList.add("open"))}},window.requestAnimationFrame?Dribbble.requestAnimationFrameWithLeadingCall=function(e,i){var n=!1;return function(){var t=arguments;if(!n)return n=!0,e.apply(i,t);window.requestAnimationFrame(function(){e.apply(i,t)})}}:Dribbble.requestAnimationFrameWithLeadingCall=function(e,t){Dribbble.Globals.throttle().then(function(t){return t(e,16)}.bind(t))},Dribbble.MadeWithHeader={initialize:function(){this._resize=Dribbble.requestAnimationFrameWithLeadingCall(this._resize.bind(this)),this.madeWithHeader=document.querySelector(".made-with-header"),this.bindEvents(),this._resize()},bindEvents:function(){window.addEventListener("resize",this._resize.bind(this))},_resize:function(){null!=this.madeWithHeader&&(this.madeWithHeader.clientWidth<375?this.madeWithHeader.classList.add("smaller"):this.madeWithHeader.classList.remove("smaller"))}},function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function g(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function t(p){function m(t,e,i){var n;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(i=g({path:"/"},m.defaults,i)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*i.expires),i.expires=r}i.expires=i.expires?i.expires.toUTCString():"";try{n=JSON.stringify(e),/^[\{\[]/.test(n)&&(e=n)}catch(f){}e=p.write?p.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s]));return document.cookie=t+"="+e+o}t||(n={});for(var a=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,c=0;c<a.length;c++){var u=a[c].split("="),d=u.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var h=u[0].replace(l,decodeURIComponent);if(d=p.read?p.read(d,h):p(d,h)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(f){}if(t===h){n=d;break}t||(n[h]=d)}catch(f){}}return n}}return(m.set=m).get=function(t){return m.call(m,t)},m.getJSON=function(){return m.apply({json:!0},[].slice.call(arguments))},m.defaults={},m.remove=function(t,e){m(t,"",g(e,{expires:-1}))},m.withConverter=t,m}return t(function(){})}),Dribbble.ShotFilters={form:document.querySelector(".shot-filters-form"),shotViewLinks:document.querySelectorAll(".js-shot-views .btn-dropdown-options a"),pathSetters:document.querySelectorAll(".sets-path a, .find-shots-made-with .clear-filter"),querystringSetters:document.querySelectorAll(".sets-querystring a"),searchInputs:document.querySelectorAll(".input-with-icon input"),categoryLinks:document.querySelectorAll(".js-shot-categories a"),priceInputs:document.querySelectorAll("#price_floor, #price_ceiling"),clearFilters:document.querySelectorAll(".clear-filter"),onFilterSuccess:null,tagAutocompleteUrl:null,initialized:!1,initialize:function(t){this.initialState=Object.assign({},t.state),this.previousRoute=document.location.href.replace(/\+/g," "),this.state=t.state,this.onFilterSuccess=t.onFilterSuccess,this.pathMatcher=t.pathMatcher,this.tagAutocompleteUrl=t.tagAutocompleteUrl||"/autocompletes/tags",this.bindEvents(),this.setupTagAutocomplete(),this.initialized=!0},setupTagAutocomplete:function(){var n;new autoComplete({menuClass:"btn-dropdown-options",selector:"#tag",source:function(t,e){try{n.abort()}catch(i){}n=$.getJSON(this.tagAutocompleteUrl,{q:t},function(t){return strings=t.map(function(t){return t.text}),e(strings)})}.bind(this)})},bindEvents:function(){window.onpopstate=function(t){var e=document.location.pathname;(e.match(this.pathMatcher)||-1<["/","/shots"].indexOf(e)||e.match(/^\/search\//))&&this._submitForm(t)}.bind(this),this.pathSetters.forEach(function(t){t.addEventListener("click",this._pathChanged.bind(this))}.bind(this)),this.querystringSetters.forEach(function(t){t.addEventListener("click",this._queryStringChanged.bind(this))}.bind(this)),this.searchInputs.forEach(function(t){t.addEventListener("blur",this._updateLocation.bind(this)),t.addEventListener("keydown",this._inputSubmitted.bind(this))}.bind(this)),this.categoryLinks.forEach(function(t){t.addEventListener("click",this._categoryChanged.bind(this))}.bind(this)),$(this.priceInputs).on("change",this._updateLocation.bind(this)),this.clearFilters.forEach(function(t){t.addEventListener("click",this._clearFilter.bind(this))}.bind(this)),this.form.addEventListener("submit",this._updateLocation.bind(this)),this.shotViewLinks.forEach(function(t){t.addEventListener("click",this._trackShotViewLink.bind(this))}.bind(this))},_closeFilters:function(){Dribbble.ShotFiltersToggler.close()},_categoryChanged:function(t){t.preventDefault(),this._clearActiveCategory(),t.target.parentNode.classList.add("active")},_pathChanged:function(t){if(t.preventDefault(),!t.target.classList.contains("clear-filter")){var e=t.target.closest("fieldset");if(e){var i=e.querySelector(".clear-filter");this._toggleClearLink(i,!0)}}this.set(t.target.dataset.param,t.target.dataset.value),this.form.action=this._assembleUrl(),this._updateLocation()},_assembleUrl:function(){var t=this.state.prefix;return this.state.view&&(t+="/"+this.state.view),this.state.category&&(t+="/"+this.state.category),this.state.madeWith&&(t+="/made_with/"+this.state.madeWith),t},_queryStringChanged:function(t){if(t.preventDefault(),keyVal=t.target.href.split("="),key="#"+keyVal[0].split("?")[1],val=keyVal[1],$D.setValue(key,val),!t.bubbles&&t.cancelable)return!1;0<t.target.href.indexOf("source_file")&&Dribbble.ButtonDropdown.click(".timeframe-all-time a",{bubbles:!1,cancelable:!0}),this._updateLocation()},_inputSubmitted:function(t){var e=13;t.keyCode==e&&this._updateLocation(t)},_updateLocation:function(t){t&&t.preventDefault(),this._updateStateFromForm();var e=document.querySelector(".js-shot-views li.active").innerText;if(this.state.category)var i=e+" "+Dribbble.String.capitalize(this.state.category)+" shots on Dribbble";else i=e+" shots on Dribbble";this.trackFilters(),Dribbble.EventBus.$emit("shotFilters:updatedLocation",this.state),Dribbble.Router.pushState({shotFilters:this.state},i,this._routeString()),Dribbble.Itly&&Dribbble.Itly.pageViewed()},trackFilters:function(){var t={};if(this.state.category){var e="";e="product-design"===this.state.category?"Product Design":"web-design"===this.state.category?"Web Design":"prints"===this.state.category?"Print":"illustrations"===this.state.category?"Illustration":Dribbble.String.capitalize(this.state.category),t.category=e}if(this.state.view){var i={following:"Following",popular:"Popular",goods:"Goods for Sale",recent:"New & Noteworthy"};t.feed=i[this.state.view]}if(this.state.color&&(t.color=this.state.color),this.state.source_file){var n={
".ai":"Adobe Illustrator",".psd":"Adobe Photoshop",".xd":"Adobe XD",".fig":"Figma",".studio":"Invision Studio",".sketch":"Sketch"};t.downloads=n[this.state.source_file]}if(this.state.madeWith){var r={"adobe-xd":"Adobe XD",figma:"Figma",sketch:"Sketch",unsplash:"Unsplash"};t.made_with=r[this.state.madeWith]}this.state.tag&&(t.tags=this.state.tag),Dribbble.Itly.shotFeedFiltered(t)},_submitForm:function(t){var n=null,e=null,i=document.location.href.replace(/\+/g," "),r=decodeURI(this._routeString());if("popstate"===t.type&&t.constructor===PopStateEvent){if(document.location.href==this._routeString()||i==r||i===this.previousRoute)return;e=document.location.href,n={t:!1},this._handleBackButton(t)}else e=this._assembleUrl(),(n=this._routeData()).t=!0;this.previousRoute=i,$.ajax(e,{data:n,method:"GET",success:function(t){var e=document.querySelector(".shot-filters");if($(this._shotsContainer()).html(t),Dribbble.MediaSwap&&new Dribbble.MediaSwap("[data-video-teaser-small][data-video-teaser-large]"),0<this.form.action.indexOf("goods")?e.classList.add("goods"):e.classList.remove("goods"),this.onFilterSuccess&&this.onFilterSuccess(),Dribbble.Thumbnails){Dribbble.Thumbnails.infiniteScroller.baseUrl=window.location.href,Dribbble.Thumbnails.infiniteScroller.reachedEnd=!1,Dribbble.Thumbnails.infiniteScroller.disabledNext=!1,Dribbble.Thumbnails.infiniteScroller.setPage(1),Dribbble.Thumbnails.infiniteScroller.setLoading(!1),Dribbble.Thumbnails.infiniteScroller.staticParams.t=n.t;var i=new Event("dribbble.filterShotResults",{bubbles:!0});document.dispatchEvent(i),Dribbble.ShotFiltersToggler.refresh()}}.bind(this)})},_updateStateFromForm:function(){$(this.form).serializeArray().forEach(function(t){"utf8"!=t.name&&""!=t.value&&this.set(t.name,t.value)}.bind(this))},_routeData:function(){var e={},t=$(this.form).serializeArray(),i=0<this.form.action.indexOf("recent")||"/"==document.location.pathname;return t.forEach(function(t){"utf8"!=t.name&&(this._toggleClearLinkFromField(t.name,t.value),""!=t.value&&("timeframe"==t.name&&i?this.state.timeframe=null:e[t.name]=t.value))}.bind(this)),"/search/shots"==this.state.prefix&&(e.q=document.querySelector(".js-search-input").value),e},_routeString:function(t){var e="",i=t||this._routeData();return 0<Object.keys(i).length&&(e="?"+$.param(i)),this.form.action+e},_clearFilter:function(t){t.target.dataset.param.split(",").forEach(function(t){this._clearValue(t)}.bind(this));var e=t.target.closest("fieldset").querySelector(".btn-dropdown");e&&Dribbble.ButtonDropdown.resetDropdown(e),this._toggleClearLink(t.target,!1),this._updateLocation(t)},_clearValue:function(t){if($D.setValue("#"+t,""),"price_floor"==t){var e=Goods.slider.el.noUiSlider;e.set([e.options.range.min,e.options.range.max])}},_toggleClearLinkFromField:function(t,e){var i=!!e,n=t;"price_floor"==t&&(n="price_floor,price_ceiling",i=i||""!=document.getElementById("price_ceiling").value);var r=document.querySelectorAll("[data-param='"+n+"']")[0];this._toggleClearLink(r,i)},_toggleClearLink:function(t,e){t&&(e?$D.show(t):$D.hide(t))},_shotsContainer:function(){var t=document.querySelector("ol.dribbbles.group"),e=document.querySelector("div.null-message, div.no-results");return t||(e?(e.insertAdjacentHTML("beforebegin",'<ol class="dribbbles group"></ol>'),e.remove(),document.querySelector("ol.dribbbles.group")):void 0)},set:function(t,e){this.state[t]=e,this._toggleClearLinkFromField(t,e)},_handleBackButton:function(){History.getState().data.shotFilters?this.state=History.getState().data.shotFilters:this.state=Object.assign({},this.initialState),this._renderControls(),this.form.action=this._assembleUrl(),$(document).scrollTop(0)},_renderDropdown:function(t,e){t&&Dribbble.ButtonDropdown.updateDropdown(t,e)},_renderControls:function(){Object.keys(this.state).forEach(function(t){var e=this.form.querySelector("#"+t);e&&($D.setValue(e,this.state[t]),this._toggleClearLinkFromField(t,this.state[t]),this._renderDropdown(e.closest("fieldset").querySelector(".btn-dropdown"),this.state[t]))}.bind(this)),this._clearActiveCategory();var t=document.querySelector('.js-shot-categories [data-value="'+this.state.category+'"]');(t=t||document.querySelector(".js-shot-categories li:nth-child(1)"))&&t.closest("li").classList.add("active"),this._renderDropdown(this.form.querySelector(".find-shots-made-with .btn-dropdown"),this.state.madeWith),this.state.hasOwnProperty("q")&&$D.setValue('[name="q"]',this.state.q),Dribbble.ShotColorFilters.redraw(),Goods.slider.updateWithRedraw([this.state.price_floor,this.state.price_ceiling])},_clearActiveCategory:function(){var t=document.querySelector(".js-shot-categories li.active");t&&t.classList.remove("active")},_trackShotViewLink:function(t){this._trackNonAjaxFilter();var e=t.target.href.split(t.target.host)[1];t.target.dataset.trackView&&Dribbble.Itly.shotFeedFiltered({feed:t.target.dataset.trackView}),this.state.category&&("/"!==e&&""!==e||(e="/shots/following"),e=e+"/"+this.state.category),t.preventDefault(),window.location=e},_trackNonAjaxFilter:function(){expires=new Date((new Date).getTime()+6e4),Cookies.set("trackNonAjaxFilter",1,{expires:expires})}},Dribbble.ShotColorFilters={initialize:function(){this.colorInput=document.querySelector(".find-shots-color input"),this.colorSwatch=document.querySelector(".color-swatch"),this.colorLinks=document.querySelectorAll(".color-chips a");var t=this.colorInput.closest("fieldset");this.clearLink=t.querySelector(".clear-filter"),this.colorOptions=t.querySelector(".btn-dropdown-options"),this.bindEvents(),this.setup()},setup:function(){""!==this.colorInput.value&&(this.colorSwatch.style.borderColor="#"+this.colorInput.value)},bindEvents:function(){this.clearLink.addEventListener("click",this._colorSearched.bind(this)),this.colorInput.addEventListener("keydown",this._inputSubmitted.bind(this)),this.colorInput.addEventListener("focus",this._openSwatches.bind(this)),this.colorInput.addEventListener("blur",this._colorSearched.bind(this)),this.colorInput.addEventListener("search",this._colorSearched.bind(this)),this.colorLinks.forEach(function(t){t.addEventListener("mousedown",this._colorSearched.bind(this))}.bind(this))},redraw:function(t){""==this.colorInput.value||t&&t.target===this.clearLink?this.colorSwatch.removeAttribute("style"):this.colorSwatch.style.borderColor="#"+this.colorInput.value,this._updateActiveClass()},_inputSubmitted:function(t){var e=13;t.keyCode==e&&this._colorSearched(t)},_colorSearched:function(t){this._closeSwatches(),this._updateActiveClass(),t.target!=this.clearLink&&t.target.href&&0<=t.target.href.indexOf("=")&&(color=t.target.href.split("=")[1],this.colorInput.value=color),this.colorInput.value=this._hexpand(this.colorInput.value).toUpperCase(),this.redraw(t)},_openSwatches:function(t){t.preventDefault(),this.colorOptions.style.display="block",this._updateActiveClass()},_closeSwatches:function(){this.colorOptions.style.display="none"},_updateActiveClass:function(){""==this.colorInput.value&&"block"!=this.colorOptions.style.display?this.colorOptions.parentNode.classList.remove("active"):this.colorOptions.parentNode.classList.add("active")},_hexpand:function(t){return 1==t.length?t+t+t+t+t+t:2==t.length?t+t+t:3==t.length?t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t}},Dribbble.CategoryList={initialize:function(){this._render=Dribbble.requestAnimationFrameWithLeadingCall(this._render.bind(this)),this.categoryList=document.querySelector(".js-filter-categories ul"),this.backArrow=document.querySelector(".scroll-backward a"),this.forwardArrow=document.querySelector(".scroll-forward a"),this.currentCategory=this.categoryList.querySelector("li.active"),this.allCategoryLinks=this.categoryList.querySelectorAll("li.category a"),this.bindEvents(),this._render(),this._ensureActiveCategoryInView()},bindEvents:function(){window.addEventListener("resize",this._render.bind(this)),this.categoryList.addEventListener("scroll",this._render.bind(this)),this.forwardArrow.addEventListener("click",this._forwardClicked.bind(this)),this.backArrow.addEventListener("click",this._backClicked.bind(this)),this.allCategoryLinks.forEach(function(t){t.addEventListener("click",this._categoryClicked.bind(this))}.bind(this))},_render:function(){var t=0<this.categoryList.scrollLeft,e=this.categoryList.scrollLeft+this.categoryList.clientWidth>=this.categoryList.scrollWidth;t?$D.show(this.backArrow):$D.hide(this.backArrow),e?$D.hide(this.forwardArrow):$D.show(this.forwardArrow)},_forwardClicked:function(){this.categoryList.scrollLeft+=this.categoryList.clientWidth},_backClicked:function(){this.categoryList.scrollLeft-=this.categoryList.clientWidth},_ensureActiveCategoryInView:function(){this.currentCategory&&(this.currentCategory.offsetLeft+this.currentCategory.clientWidth<this.categoryList.clientWidth-this.forwardArrow.clientWidth||(this.categoryList.scrollLeft=this.currentCategory.offsetLeft-this.forwardArrow.clientWidth))},_categoryClicked:function(t){var e=t.currentTarget.offsetLeft+t.currentTarget.clientWidth,i=this.categoryList.clientWidth+this.categoryList.scrollLeft-this.forwardArrow.clientWidth,n=e-i,r=i<e;t.currentTarget.offsetLeft-this.backArrow.clientWidth<this.categoryList.scrollLeft&&(this.categoryList.scrollLeft=t.currentTarget.offsetLeft-this.forwardArrow.clientWidth),r&&(this.categoryList.scrollLeft=this.categoryList.scrollLeft+n)}},Dribbble.ShotFiltersToggler={toggler:document.querySelector(".filters-toggle-btn"),inputs:document.querySelectorAll(".shot-filters-form input"),meatball:document.querySelector(".filters-toggle-btn span.meatball"),slideSpeed:100,initialize:function(){this.bindEvents(),this.setup()},bindEvents:function(){this.toggler.addEventListener("click",this._toggled.bind(this))},setup:function(){this.toggler.dataset.dropdownState="closed",this.inputs=Array.prototype.slice.call(this.inputs),this.inputs[0]&&"utf8"===this.inputs[0].name&&this.inputs.shift(),this.refresh()},refresh:function(){this.toggler.classList.remove("empty"),this.toggler.classList.remove("present");var t=this._activeCount(),e=0<t?"present":"empty";this.toggler.classList.add(e),this.meatball.innerText=t},close:function(){this.toggler.classList.remove("filters-active"),this.refresh(),$(".shot-filters").slideUp(this.slideSpeed)},_toggled:function(t){t.preventDefault(),t.currentTarget.dataset.dropdownState="open"==t.currentTarget.dataset.dropdownState?"closed":"open",this.toggler.classList.toggle("filters-active"),this.refresh(),$(".shot-filters").slideToggle(this.slideSpeed)},_activeCount:function(){var t=this._inputsWithValues(),e=t.length;return this._bothPriceFiltersActive(t)&&(e-=1),document.querySelector(".find-shots-made-with .btn-dropdown-options li.active:not(.default-filter-option)")&&(e+=1),e},_isActive:function(t){return t.contains("filters-active")},_inputsWithValues:function(){var e=document.querySelector(".js-shot-views li.active").innerText;return this.inputs.filter(function(t){return"Recent"!=e&&"Following"!=e||"timeframe"!=t.name?0<t.value.length:void 0})},_bothPriceFiltersActive:function(t){return 2===t.filter(function(t){return"price_floor"===t.id||"price_ceiling"===t.id}).length}};var autoComplete=function(){function t(t){function o(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function i(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)}function n(t,e,i){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener(e,i)}function e(n,t,r,e){i(e||document,t,function(t){for(var e,i=t.target||t.srcElement;i&&!(e=o(i,n));)i=i.parentElement;e&&r.call(i,t)})}if(document.querySelector){var s={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var i=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(i,"<b>$1</b>")+"</div>"},onSelect:function(){}};for(var r in t)t.hasOwnProperty(r)&&(s[r]=t[r]);for(var a="object"==typeof s.selector?[s.selector]:document.querySelectorAll(s.selector),l=0;l<a.length;l++){var c=a[l];c.sc=document.createElement("div"),c.sc.className="autocomplete-suggestions "+s.menuClass,c.autocompleteAttr=c.getAttribute("autocomplete"),c.setAttribute("autocomplete","off"),c.cache={},c.last_val="",c.updateSC=function(t,e){var i=c.getBoundingClientRect();if(c.sc.style.left=Math.round(i.left+(window.pageXOffset||document.documentElement.scrollLeft)+s.offsetLeft)+"px",c.sc.style.top=Math.round(i.bottom+(window.pageYOffset||document.documentElement.scrollTop)+s.offsetTop)+"px",c.sc.style.width=Math.round(i.right-i.left)+"px",!t&&(c.sc.style.display="block",c.sc.maxHeight||(c.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(c.sc,null):c.sc.currentStyle).maxHeight)),c.sc.suggestionHeight||(c.sc.suggestionHeight=c.sc.querySelector(".autocomplete-suggestion").offsetHeight),c.sc.suggestionHeight))if(e){var n=c.sc.scrollTop,r=e.getBoundingClientRect().top-c.sc.getBoundingClientRect().top;0<r+c.sc.suggestionHeight-c.sc.maxHeight?c.sc.scrollTop=r+c.sc.suggestionHeight+n-c.sc.maxHeight:r<0&&(c.sc.scrollTop=r+n)}else c.sc.scrollTop=0},i(window,"resize",c.updateSC),document.body.appendChild(c.sc),e("autocomplete-suggestion","mouseleave",function(){var t=c.sc.querySelector(".autocomplete-suggestion.selected");t&&setTimeout(function(){t.className=t.className.replace("selected","")},20)},c.sc),e("autocomplete-suggestion","mouseover",function(){var t=c.sc.querySelector(".autocomplete-suggestion.selected");t&&(t.className=t.className.replace("selected","")),this.className+=" selected"},c.sc),e("autocomplete-suggestion","mousedown",function(t){if(o(this,"autocomplete-suggestion")){var e=this.getAttribute("data-val");c.value=e,s.onSelect(t,e,this),c.sc.style.display="none"}},c.sc),c.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?c!==document.activeElement&&setTimeout(function(){c.focus()},20):(c.last_val=c.value,c.sc.style.display="none",setTimeout(function(){c.sc.style.display="none"},350))},i(c,"blur",c.blurHandler);var u=function(t){var e=c.value;if((c.cache[e]=t).length&&e.length>=s.minChars){for(var i="",n=0;n<t.length;n++)i+=s.renderItem(t[n],e);c.sc.innerHTML=i,c.updateSC(0)}else c.sc.style.display="none"};c.keydownHandler=function(t){var e,i=window.event?t.keyCode:t.which;if((40==i||38==i)&&c.sc.innerHTML)return(n=c.sc.querySelector(".autocomplete-suggestion.selected"))?(e=40==i?n.nextSibling:n.previousSibling)?(n.className=n.className.replace("selected",""),e.className+=" selected",c.value=e.getAttribute("data-val")):(n.className=n.className.replace("selected",""),c.value=c.last_val,e=0):((e=40==i?c.sc.querySelector(".autocomplete-suggestion"):c.sc.childNodes[c.sc.childNodes.length-1]).className+=" selected",c.value=e.getAttribute("data-val")),c.updateSC(0,e),!1;if(27==i)c.value=c.last_val,c.sc.style.display="none";else if(13==i||9==i){var n;(n=c.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=c.sc.style.display&&(s.onSelect(t,n.getAttribute("data-val"),n),setTimeout(function(){c.sc.style.display="none"},20))}},i(c,"keydown",c.keydownHandler),c.keyupHandler=function(t){var e=window.event?t.keyCode:t.which;if(!e||(e<35||40<e)&&13!=e&&27!=e){var i=c.value;if(i.length>=s.minChars){if(i!=c.last_val){if(c.last_val=i,clearTimeout(c.timer),s.cache){if(i in c.cache)return void u(c.cache[i]);for(var n=1;n<i.length-s.minChars;n++){var r=i.slice(0,i.length-n);if(r in c.cache&&!c.cache[r].length)return void u([])}}c.timer=setTimeout(function(){s.source(i,u)},s.delay)}}else c.last_val=i,c.sc.style.display="none"}},i(c,"keyup",c.keyupHandler),c.focusHandler=function(t){c.last_val="\n",c.keyupHandler(t)},s.minChars||i(c,"focus",c.focusHandler)}this.destroy=function(){for(var t=0;t<a.length;t++){var e=a[t];n(window,"resize",e.updateSC),n(e,"blur",e.blurHandler),n(e,"focus",e.focusHandler),n(e,"keydown",e.keydownHandler),n(e,"keyup",e.keyupHandler),e.autocompleteAttr?e.setAttribute("autocomplete",e.autocompleteAttr):e.removeAttribute("autocomplete"),document.body.removeChild(e.sc),e=null}}}}return t}();"function"==typeof define&&define.amd?define("autoComplete",function(){return autoComplete}):"undefined"!=typeof module&&module.exports?module.exports=autoComplete:window.autoComplete=autoComplete;